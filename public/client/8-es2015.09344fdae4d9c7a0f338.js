(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{qfjS:function(t,i,e){"use strict";e.r(i),e.d(i,"DriverModule",function(){return O});var n=e("ofXK"),r=e("fXoL"),b=e("tk/3");let c=(()=>{class t{constructor(t){this.http=t}getList(t){return this.http.get("http://localhost:3000/trips?date="+t)}getListStation(){return this.http.get("http://localhost:3000/test/")}addActualTime(t,i){this.http.put("http://localhost:3000/test/"+t,i)}}return t.\u0275fac=function(i){return new(i||t)(r.Sb(b.b))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var o=e("jhN1"),a=e("3Pt+"),s=e("tyNb");function l(t,i){if(1&t&&(r.Ob(0,"tr"),r.Ob(1,"td",12),r.uc(2),r.Nb(),r.Ob(3,"td",12),r.uc(4),r.ac(5,"date"),r.Nb(),r.Ob(6,"td",12),r.uc(7),r.Nb(),r.Ob(8,"td",12),r.uc(9),r.Nb(),r.Ob(10,"td",12),r.Ob(11,"a",14),r.uc(12,"Chi ti\u1ebft"),r.Nb(),r.Nb(),r.Nb()),2&t){const t=i.$implicit,e=i.index,n=r.Zb();r.zb(2),r.vc(e+1),r.zb(2),r.vc(r.cc(5,5,t.date,"dd/MM/yyyy")),r.zb(3),r.vc(t.route_name),r.zb(2),r.vc(n.formatDate(1e3*t.start_time)),r.zb(2),r.hc("routerLink","./detail-route/",t.id,"")}}function u(t,i){1&t&&r.Kb(0,"div")}function d(t,i){1&t&&(r.Ob(0,"div",12),r.Ob(1,"div",13),r.Ob(2,"p"),r.uc(3,"\u0110\xe3 \u0111\u1ebfn tr\u1ea1m"),r.Nb(),r.Nb(),r.Ob(4,"a",22),r.uc(5,"Tho\xe1t"),r.Nb(),r.Nb())}function h(t,i){if(1&t){const t=r.Pb();r.Ob(0,"div",12),r.Ob(1,"div",13),r.uc(2),r.Nb(),r.Ob(3,"div",23),r.Ob(4,"form",24),r.Vb("ngSubmit",function(){r.mc(t);const i=r.Zb();return i.addActualTime(null==i.station_current?null:i.station_current.id)}),r.Ob(5,"div",25),r.Ob(6,"button",26),r.uc(7,"\u0110\xe3 \u0111\u1ebfn tr\u1ea1m"),r.Nb(),r.Ob(8,"a",27),r.uc(9,"Tr\u1edf l\u1ea1i"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Zb();r.zb(2),r.wc("Th\u1eddi gian \u0111\u1ebfn tr\u1ea1m (D\u1ef1 ki\u1ebfn) : ",t.formatDate(null==t.station_current?null:t.station_current.arrive_time),""),r.zb(2),r.fc("formGroup",t.confirmForm)}}function m(t,i){if(1&t&&(r.Ob(0,"td",20),r.uc(1),r.Nb()),2&t){const t=r.Zb().$implicit,i=r.Zb();r.zb(1),r.vc(i.formatDate(t.actual_time))}}function p(t,i){if(1&t&&(r.Ob(0,"td",20),r.uc(1),r.Nb()),2&t){const t=r.Zb().$implicit,i=r.Zb();r.zb(1),r.vc(i.formatDate(t.arrive_time))}}function f(t,i){if(1&t&&(r.Ob(0,"tr"),r.Ob(1,"td",20),r.uc(2),r.Nb(),r.Ob(3,"td",20),r.uc(4),r.Nb(),r.sc(5,m,2,1,"td",28),r.sc(6,p,2,1,"ng-template",null,29,r.tc),r.Nb()),2&t){const t=i.$implicit,e=r.lc(7);r.zb(2),r.vc(t.number),r.zb(2),r.vc(t.name),r.zb(1),r.fc("ngIf",null!==t.actual_time)("ngIfElse",e)}}const v=[{path:"",redirectTo:"profile"},{path:"profile",loadChildren:()=>e.e(1).then(e.bind(null,"HunT")).then(t=>t.ProfileModule)},{path:"schedule",component:(()=>{class t{constructor(t,i){this.driverService=t,this.title=i,this.trips=[],this.title.setTitle("Theo d\xf5i l\u1ecbch tr\xecnh")}ngOnInit(){}loadList(t){this.driverService.getList(t).subscribe(t=>this.getTripInfo(t))}getTripInfo(t){this.trips=t}formatDate(t){var i=new Date;return i.setTime(t),i.toLocaleTimeString()}}return t.\u0275fac=function(i){return new(i||t)(r.Jb(c),r.Jb(o.b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-schedule"]],decls:26,vars:1,consts:[[1,"row","my-3","text-font"],[1,"app-page-title","col-md-4"],[1,"col-md-5"],[1,"app-search-form"],["type","date",1,"form-control",2,"height","40px",3,"input"],[1,"app-card","shadow-sm","mb-4"],[1,"inner"],[1,"app-card-body","p-3","p-lg-4"],[1,"row","gx-5","gy-3"],[1,"col-12"],[1,"table","table-hover","table-borderless","table-sm","text-center","text-font"],[1,"thead-background"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary","m-2",3,"routerLink"]],template:function(t,i){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h1",1),r.uc(2,"L\u1ecbch \u0111i\u1ec1u h\xe0nh"),r.Nb(),r.Ob(3,"div",2),r.Ob(4,"form",3),r.Ob(5,"input",4),r.Vb("input",function(t){return i.loadList(t.target.value)}),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(6,"div",5),r.Ob(7,"div",6),r.Ob(8,"div",7),r.Ob(9,"div",8),r.Ob(10,"div",9),r.Ob(11,"table",10),r.Ob(12,"thead",11),r.Ob(13,"tr"),r.Ob(14,"th",12),r.uc(15,"STT"),r.Nb(),r.Ob(16,"th",12),r.uc(17,"Ng\xe0y"),r.Nb(),r.Ob(18,"th",12),r.uc(19,"T\xean tuy\u1ebfn"),r.Nb(),r.Ob(20,"th",12),r.uc(21,"Th\u1eddi gian kh\u1edfi h\xe0nh"),r.Nb(),r.Ob(22,"th",12),r.uc(23,"T\xe1c v\u1ee5"),r.Nb(),r.Nb(),r.Nb(),r.Ob(24,"tbody"),r.sc(25,l,13,8,"tr",13),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(25),r.fc("ngForOf",i.trips))},directives:[a.v,a.k,n.k,s.d],pipes:[n.e],styles:[""]}),t})()},{path:"schedule/detail-route/:id",component:(()=>{class t{constructor(t,i){this.driverService=t,this.formBuilder=i,this.stations=[],this.time_difference=0,this.station_current=null,this.next_station=null}ngOnInit(){this.getListStation(),this.confirmForm=this.formBuilder.group({actual_time:[]})}getListStation(){this.driverService.getListStation().subscribe(t=>this.getStation(t))}setStationCurrent(t){this.station_current=t}setStationNext(t){this.next_station=t}getStation(t){this.stations=t;for(let i=0;i<this.stations.length;i++)if(null==this.stations[i].actual_time){this.setStationCurrent(this.stations[i]),this.setStationNext(this.stations[i+1]);break}console.log(this.station_current)}addActualTime(t){return console.log(this.driverService.addActualTime(t,1)),this.driverService.addActualTime(t,1)}calculate(t){return null==t.actual_time?t.arrive_time+this.trip.start_time+this.time_difference:(this.time_difference=t.actual_time-t.arrive_time,t.actual_time)}formatDate(t){var i=new Date;return i.setTime(t),i.toLocaleTimeString()}}return t.\u0275fac=function(i){return new(i||t)(r.Jb(c),r.Jb(a.b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-detail-route"]],decls:42,vars:7,consts:[[1,"row","my-3","text-font"],[1,"app-page-title","col-md-4"],[1,"row","g-4","mb-4"],[1,"col-12","col-lg-6"],[1,"app-card","app-card-chart","h-100","shadow-sm"],[1,"app-card-header","p-3"],[1,"row","justify-content-between","align-items-center"],[1,"col-auto"],[1,"app-card-title"],[4,"ngIf","ngIfThen","ngIfElse"],["current_station_2",""],["current_station",""],[1,"app-card-body","p-3","p-lg-4"],[1,"col-md-12"],[1,"app-card","shadow-sm","mb-4"],[1,"inner"],[1,"row","gx-5","gy-3"],[1,"col-12"],[1,"table","table-hover","table-sm","text-center","text-font"],[1,"thead-background"],[1,"align-middle"],[4,"ngFor","ngForOf"],["routerLink","../",1,"btn","btn-secondary"],[1,"row","col-12","m-2"],[3,"formGroup","ngSubmit"],[1,"col-md-12","d-flex","justify-content-evenly"],["type","submit","onclick","return confirm('B\u1ea1n x\xe1c nh\u1eadn \u0111\xe3 \u0111\u1ebfn tr\u1ea1m ?');",1,"btn","btn-danger"],["routerLink","../../",1,"btn","btn-secondary"],["class","align-middle",4,"ngIf","ngIfElse"],["display",""]],template:function(t,i){if(1&t&&(r.Ob(0,"div",0),r.Ob(1,"h1",1),r.uc(2,"Chi ti\u1ebft tuy\u1ebfn"),r.Nb(),r.Nb(),r.Ob(3,"div",2),r.Ob(4,"div",3),r.Ob(5,"div",4),r.Ob(6,"div",5),r.Ob(7,"div",6),r.Ob(8,"div",7),r.Ob(9,"h4",8),r.uc(10),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.sc(11,u,1,0,"div",9),r.sc(12,d,6,0,"ng-template",null,10,r.tc),r.sc(14,h,10,2,"ng-template",null,11,r.tc),r.Nb(),r.Nb(),r.Ob(16,"div",3),r.Ob(17,"div",4),r.Ob(18,"div",5),r.Ob(19,"div",6),r.Ob(20,"div",7),r.Ob(21,"h4",8),r.uc(22),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(23,"div",12),r.Ob(24,"div",13),r.uc(25),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(26,"div",14),r.Ob(27,"div",15),r.Ob(28,"div",12),r.Ob(29,"div",16),r.Ob(30,"div",17),r.Ob(31,"table",18),r.Ob(32,"thead",19),r.Ob(33,"tr"),r.Ob(34,"th",20),r.uc(35,"STT"),r.Nb(),r.Ob(36,"th",20),r.uc(37,"T\xean tr\u1ea1m"),r.Nb(),r.Ob(38,"th",20),r.uc(39,"Th\u1eddi gian \u0111\u1ebfn tr\u1ea1m"),r.Nb(),r.Nb(),r.Nb(),r.Ob(40,"tbody"),r.sc(41,f,8,4,"tr",21),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t){const t=r.lc(13),e=r.lc(15);r.zb(10),r.wc("Tr\u1ea1m hi\u1ec7n t\u1ea1i : ",null==i.station_current?null:i.station_current.name,""),r.zb(1),r.fc("ngIf",null==i.station_current)("ngIfThen",t)("ngIfElse",e),r.zb(11),r.wc("Tr\u1ea1m ti\u1ebfp theo : ",null==i.next_station?null:i.next_station.name,""),r.zb(3),r.wc("Th\u1eddi gian \u0111\u1ebfn tr\u1ea1m (D\u1ef1 ki\u1ebfn) : ",i.formatDate(null==i.next_station?null:i.next_station.arrive_time),""),r.zb(16),r.fc("ngForOf",i.stations)}},directives:[n.l,n.k,s.d,a.v,a.k,a.f],styles:[""]}),t})()}];let O=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(i){return new(i||t)},imports:[[n.c,s.e.forChild(v),a.q]]}),t})()}}]);