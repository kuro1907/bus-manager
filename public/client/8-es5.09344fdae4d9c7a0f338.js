!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{qfjS:function(n,i,r){"use strict";r.r(i),r.d(i,"DriverModule",function(){return T});var a,b=r("ofXK"),c=r("fXoL"),o=r("tk/3"),u=((a=function(){function n(e){t(this,n),this.http=e}return e(n,[{key:"getList",value:function(t){return this.http.get("http://localhost:3000/trips?date="+t)}},{key:"getListStation",value:function(){return this.http.get("http://localhost:3000/test/")}},{key:"addActualTime",value:function(t,n){this.http.put("http://localhost:3000/test/"+t,n)}}]),n}()).\u0275fac=function(t){return new(t||a)(c.Sb(o.b))},a.\u0275prov=c.Fb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),l=r("jhN1"),s=r("3Pt+"),d=r("tyNb");function f(t,n){if(1&t&&(c.Ob(0,"tr"),c.Ob(1,"td",12),c.uc(2),c.Nb(),c.Ob(3,"td",12),c.uc(4),c.ac(5,"date"),c.Nb(),c.Ob(6,"td",12),c.uc(7),c.Nb(),c.Ob(8,"td",12),c.uc(9),c.Nb(),c.Ob(10,"td",12),c.Ob(11,"a",14),c.uc(12,"Chi ti\u1ebft"),c.Nb(),c.Nb(),c.Nb()),2&t){var e=n.$implicit,i=n.index,r=c.Zb();c.zb(2),c.vc(i+1),c.zb(2),c.vc(c.cc(5,5,e.date,"dd/MM/yyyy")),c.zb(3),c.vc(e.route_name),c.zb(2),c.vc(r.formatDate(1e3*e.start_time)),c.zb(2),c.hc("routerLink","./detail-route/",e.id,"")}}function h(t,n){1&t&&c.Kb(0,"div")}function v(t,n){1&t&&(c.Ob(0,"div",12),c.Ob(1,"div",13),c.Ob(2,"p"),c.uc(3,"\u0110\xe3 \u0111\u1ebfn tr\u1ea1m"),c.Nb(),c.Nb(),c.Ob(4,"a",22),c.uc(5,"Tho\xe1t"),c.Nb(),c.Nb())}function m(t,n){if(1&t){var e=c.Pb();c.Ob(0,"div",12),c.Ob(1,"div",13),c.uc(2),c.Nb(),c.Ob(3,"div",23),c.Ob(4,"form",24),c.Vb("ngSubmit",function(){c.mc(e);var t=c.Zb();return t.addActualTime(null==t.station_current?null:t.station_current.id)}),c.Ob(5,"div",25),c.Ob(6,"button",26),c.uc(7,"\u0110\xe3 \u0111\u1ebfn tr\u1ea1m"),c.Nb(),c.Ob(8,"a",27),c.uc(9,"Tr\u1edf l\u1ea1i"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()}if(2&t){var i=c.Zb();c.zb(2),c.wc("Th\u1eddi gian \u0111\u1ebfn tr\u1ea1m (D\u1ef1 ki\u1ebfn) : ",i.formatDate(null==i.station_current?null:i.station_current.arrive_time),""),c.zb(2),c.fc("formGroup",i.confirmForm)}}function p(t,n){if(1&t&&(c.Ob(0,"td",20),c.uc(1),c.Nb()),2&t){var e=c.Zb().$implicit,i=c.Zb();c.zb(1),c.vc(i.formatDate(e.actual_time))}}function O(t,n){if(1&t&&(c.Ob(0,"td",20),c.uc(1),c.Nb()),2&t){var e=c.Zb().$implicit,i=c.Zb();c.zb(1),c.vc(i.formatDate(e.arrive_time))}}function N(t,n){if(1&t&&(c.Ob(0,"tr"),c.Ob(1,"td",20),c.uc(2),c.Nb(),c.Ob(3,"td",20),c.uc(4),c.Nb(),c.sc(5,p,2,1,"td",28),c.sc(6,O,2,1,"ng-template",null,29,c.tc),c.Nb()),2&t){var e=n.$implicit,i=c.lc(7);c.zb(2),c.vc(e.number),c.zb(2),c.vc(e.name),c.zb(1),c.fc("ngIf",null!==e.actual_time)("ngIfElse",i)}}var g,y,_,k=[{path:"",redirectTo:"profile"},{path:"profile",loadChildren:function(){return r.e(1).then(r.bind(null,"HunT")).then(function(t){return t.ProfileModule})}},{path:"schedule",component:(y=function(){function n(e,i){t(this,n),this.driverService=e,this.title=i,this.trips=[],this.title.setTitle("Theo d\xf5i l\u1ecbch tr\xecnh")}return e(n,[{key:"ngOnInit",value:function(){}},{key:"loadList",value:function(t){var n=this;this.driverService.getList(t).subscribe(function(t){return n.getTripInfo(t)})}},{key:"getTripInfo",value:function(t){this.trips=t}},{key:"formatDate",value:function(t){var n=new Date;return n.setTime(t),n.toLocaleTimeString()}}]),n}(),y.\u0275fac=function(t){return new(t||y)(c.Jb(u),c.Jb(l.b))},y.\u0275cmp=c.Db({type:y,selectors:[["app-schedule"]],decls:26,vars:1,consts:[[1,"row","my-3","text-font"],[1,"app-page-title","col-md-4"],[1,"col-md-5"],[1,"app-search-form"],["type","date",1,"form-control",2,"height","40px",3,"input"],[1,"app-card","shadow-sm","mb-4"],[1,"inner"],[1,"app-card-body","p-3","p-lg-4"],[1,"row","gx-5","gy-3"],[1,"col-12"],[1,"table","table-hover","table-borderless","table-sm","text-center","text-font"],[1,"thead-background"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary","m-2",3,"routerLink"]],template:function(t,n){1&t&&(c.Ob(0,"div",0),c.Ob(1,"h1",1),c.uc(2,"L\u1ecbch \u0111i\u1ec1u h\xe0nh"),c.Nb(),c.Ob(3,"div",2),c.Ob(4,"form",3),c.Ob(5,"input",4),c.Vb("input",function(t){return n.loadList(t.target.value)}),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(6,"div",5),c.Ob(7,"div",6),c.Ob(8,"div",7),c.Ob(9,"div",8),c.Ob(10,"div",9),c.Ob(11,"table",10),c.Ob(12,"thead",11),c.Ob(13,"tr"),c.Ob(14,"th",12),c.uc(15,"STT"),c.Nb(),c.Ob(16,"th",12),c.uc(17,"Ng\xe0y"),c.Nb(),c.Ob(18,"th",12),c.uc(19,"T\xean tuy\u1ebfn"),c.Nb(),c.Ob(20,"th",12),c.uc(21,"Th\u1eddi gian kh\u1edfi h\xe0nh"),c.Nb(),c.Ob(22,"th",12),c.uc(23,"T\xe1c v\u1ee5"),c.Nb(),c.Nb(),c.Nb(),c.Ob(24,"tbody"),c.sc(25,f,13,8,"tr",13),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.zb(25),c.fc("ngForOf",n.trips))},directives:[s.v,s.k,b.k,d.d],pipes:[b.e],styles:[""]}),y)},{path:"schedule/detail-route/:id",component:(g=function(){function n(e,i){t(this,n),this.driverService=e,this.formBuilder=i,this.stations=[],this.time_difference=0,this.station_current=null,this.next_station=null}return e(n,[{key:"ngOnInit",value:function(){this.getListStation(),this.confirmForm=this.formBuilder.group({actual_time:[]})}},{key:"getListStation",value:function(){var t=this;this.driverService.getListStation().subscribe(function(n){return t.getStation(n)})}},{key:"setStationCurrent",value:function(t){this.station_current=t}},{key:"setStationNext",value:function(t){this.next_station=t}},{key:"getStation",value:function(t){this.stations=t;for(var n=0;n<this.stations.length;n++)if(null==this.stations[n].actual_time){this.setStationCurrent(this.stations[n]),this.setStationNext(this.stations[n+1]);break}console.log(this.station_current)}},{key:"addActualTime",value:function(t){return console.log(this.driverService.addActualTime(t,1)),this.driverService.addActualTime(t,1)}},{key:"calculate",value:function(t){return null==t.actual_time?t.arrive_time+this.trip.start_time+this.time_difference:(this.time_difference=t.actual_time-t.arrive_time,t.actual_time)}},{key:"formatDate",value:function(t){var n=new Date;return n.setTime(t),n.toLocaleTimeString()}}]),n}(),g.\u0275fac=function(t){return new(t||g)(c.Jb(u),c.Jb(s.b))},g.\u0275cmp=c.Db({type:g,selectors:[["app-detail-route"]],decls:42,vars:7,consts:[[1,"row","my-3","text-font"],[1,"app-page-title","col-md-4"],[1,"row","g-4","mb-4"],[1,"col-12","col-lg-6"],[1,"app-card","app-card-chart","h-100","shadow-sm"],[1,"app-card-header","p-3"],[1,"row","justify-content-between","align-items-center"],[1,"col-auto"],[1,"app-card-title"],[4,"ngIf","ngIfThen","ngIfElse"],["current_station_2",""],["current_station",""],[1,"app-card-body","p-3","p-lg-4"],[1,"col-md-12"],[1,"app-card","shadow-sm","mb-4"],[1,"inner"],[1,"row","gx-5","gy-3"],[1,"col-12"],[1,"table","table-hover","table-sm","text-center","text-font"],[1,"thead-background"],[1,"align-middle"],[4,"ngFor","ngForOf"],["routerLink","../",1,"btn","btn-secondary"],[1,"row","col-12","m-2"],[3,"formGroup","ngSubmit"],[1,"col-md-12","d-flex","justify-content-evenly"],["type","submit","onclick","return confirm('B\u1ea1n x\xe1c nh\u1eadn \u0111\xe3 \u0111\u1ebfn tr\u1ea1m ?');",1,"btn","btn-danger"],["routerLink","../../",1,"btn","btn-secondary"],["class","align-middle",4,"ngIf","ngIfElse"],["display",""]],template:function(t,n){if(1&t&&(c.Ob(0,"div",0),c.Ob(1,"h1",1),c.uc(2,"Chi ti\u1ebft tuy\u1ebfn"),c.Nb(),c.Nb(),c.Ob(3,"div",2),c.Ob(4,"div",3),c.Ob(5,"div",4),c.Ob(6,"div",5),c.Ob(7,"div",6),c.Ob(8,"div",7),c.Ob(9,"h4",8),c.uc(10),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.sc(11,h,1,0,"div",9),c.sc(12,v,6,0,"ng-template",null,10,c.tc),c.sc(14,m,10,2,"ng-template",null,11,c.tc),c.Nb(),c.Nb(),c.Ob(16,"div",3),c.Ob(17,"div",4),c.Ob(18,"div",5),c.Ob(19,"div",6),c.Ob(20,"div",7),c.Ob(21,"h4",8),c.uc(22),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(23,"div",12),c.Ob(24,"div",13),c.uc(25),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(26,"div",14),c.Ob(27,"div",15),c.Ob(28,"div",12),c.Ob(29,"div",16),c.Ob(30,"div",17),c.Ob(31,"table",18),c.Ob(32,"thead",19),c.Ob(33,"tr"),c.Ob(34,"th",20),c.uc(35,"STT"),c.Nb(),c.Ob(36,"th",20),c.uc(37,"T\xean tr\u1ea1m"),c.Nb(),c.Ob(38,"th",20),c.uc(39,"Th\u1eddi gian \u0111\u1ebfn tr\u1ea1m"),c.Nb(),c.Nb(),c.Nb(),c.Ob(40,"tbody"),c.sc(41,N,8,4,"tr",21),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&t){var e=c.lc(13),i=c.lc(15);c.zb(10),c.wc("Tr\u1ea1m hi\u1ec7n t\u1ea1i : ",null==n.station_current?null:n.station_current.name,""),c.zb(1),c.fc("ngIf",null==n.station_current)("ngIfThen",e)("ngIfElse",i),c.zb(11),c.wc("Tr\u1ea1m ti\u1ebfp theo : ",null==n.next_station?null:n.next_station.name,""),c.zb(3),c.wc("Th\u1eddi gian \u0111\u1ebfn tr\u1ea1m (D\u1ef1 ki\u1ebfn) : ",n.formatDate(null==n.next_station?null:n.next_station.arrive_time),""),c.zb(16),c.fc("ngForOf",n.stations)}},directives:[b.l,b.k,d.d,s.v,s.k,s.f],styles:[""]}),g)}],T=((_=function n(){t(this,n)}).\u0275mod=c.Hb({type:_}),_.\u0275inj=c.Gb({factory:function(t){return new(t||_)},imports:[[b.c,d.e.forChild(k),s.q]]}),_)}}])}();