(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{FPLr:function(t,e,i){"use strict";i.r(e),i.d(e,"BusesModule",function(){return y});var b=i("ofXK"),s=i("3Pt+"),r=i("fXoL"),n=i("tk/3");let o=(()=>{class t{constructor(t){this.http=t}getBus(t){return this.http.get("buses/"+t)}getList(){return this.http.get("buses/")}addBus(t){return this.http.post("buses/",t)}updateBus(t,e){return this.http.put("buses/"+t,e)}deleteBus(t){return this.http.delete("buses/"+t)}getRoute(){return this.http.get("routes/")}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(n.b))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i("jhN1"),a=i("tyNb");function c(t,e){if(1&t&&(r.Ob(0,"div",23),r.Ob(1,"label",24),r.uc(2),r.Nb(),r.Nb()),2&t){const t=r.Zb();r.zb(2),r.vc(t.message)}}function l(t,e){if(1&t&&(r.Ob(0,"option",25),r.uc(1),r.Nb()),2&t){const t=e.$implicit;r.gc("value",null==t?null:t.id),r.zb(1),r.vc(null==t?null:t.name)}}let d=(()=>{class t{constructor(t,e,i){this.busService=t,this.formBuilder=e,this.title=i,this.message="",this.title.setTitle("Th\xeam m\u1edbi xe bu\xfdt")}ngOnInit(){this.busService.getRoute().subscribe(t=>this.routes=t),this.createBusForm=this.formBuilder.group({number:["",s.t.required],seat:["",s.t.required],capacity:["",s.t.required],route_name_id:["",s.t.required]})}addBus(){if(this.createBusForm.invalid)return this.message="Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin",console.log(this.message);const{value:t}=this.createBusForm;this.busService.addBus(t).subscribe(t=>{this.message="Th\xeam xe m\u1edbi th\xe0nh c\xf4ng",console.log(this.message)},t=>{this.message="Th\xeam xe m\u1edbi kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i",console.log(this.message)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(o),r.Jb(s.b),r.Jb(u.b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-create-bus"]],decls:42,vars:3,consts:[[1,"row","my-3","text-font"],[1,"app-page-title","col-md-12"],[1,"app-card","shadow-sm","mb-4","text-font"],[1,"inner"],[1,"app-card-body","p-3","p-lg-4"],[1,"row","gx-5","gy-3"],[1,"col-12"],["class","row justify-content-center ",4,"ngIf"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"form-group","row","has-validation"],["for","name",1,"form-label","col-md-2"],["type","text","formControlName","number","pattern","[0-9]{2}[-]{1}[A-Za-z]{1}[0-9]{1}[\\s]{1}[0-9.]{4,6}","required","",1,"form-control","col-md-5"],[1,"invalid-feedback","col-md-5"],[1,"col-md-12"],["type","number","formControlName","seat","required","",1,"form-control","col-md-5"],[1,"col-md-5","invalid-feedback"],["type","number","formControlName","capacity","required","",1,"form-control","col-md-5"],[1,"form-group","row"],["formControlName","route_name_id","aria-label","Default select example",1,"form-select","col-md-5"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","m-2"],["routerLink","../","href","",1,"btn","btn-secondary"],[1,"row","justify-content-center"],[1,"col-md-6","align-middle","form-control","notify"],[3,"value"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h1",1),r.uc(2,"Th\xeam xe m\u1edbi"),r.Nb(),r.Nb(),r.Ob(3,"div",2),r.Ob(4,"div",3),r.Ob(5,"div",4),r.Ob(6,"div",5),r.Ob(7,"div",6),r.sc(8,c,3,1,"div",7),r.Ob(9,"form",8),r.Vb("ngSubmit",function(){return e.addBus()}),r.Ob(10,"div",9),r.Ob(11,"label",10),r.uc(12,"Bi\u1ec3n s\u1ed1 xe"),r.Nb(),r.Kb(13,"input",11),r.Ob(14,"div",12),r.Ob(15,"div",13),r.uc(16," *Vui l\xf2ng nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng. "),r.Nb(),r.Ob(17,"div",13),r.uc(18,' *V\xed d\u1ee5 : "75-H1 123.55" ho\u1eb7c "75-H1 1235". '),r.Nb(),r.Nb(),r.Nb(),r.Ob(19,"div",9),r.Ob(20,"label",10),r.uc(21,"S\u1ed1 gh\u1ebf"),r.Nb(),r.Kb(22,"input",14),r.Ob(23,"div",15),r.uc(24," *Vui l\xf2ng kh\xf4ng \u0111\u1ec3 tr\u1ed1ng "),r.Nb(),r.Nb(),r.Ob(25,"div",9),r.Ob(26,"label",10),r.uc(27,"S\u1ee9c ch\u1ee9a"),r.Nb(),r.Kb(28,"input",16),r.Ob(29,"div",15),r.uc(30," *Vui l\xf2ng kh\xf4ng \u0111\u1ec3 tr\u1ed1ng "),r.Nb(),r.Nb(),r.Ob(31,"div",17),r.Ob(32,"label",10),r.uc(33,"Tuy\u1ebfn"),r.Nb(),r.Ob(34,"select",18),r.Ob(35,"option",19),r.uc(36,"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),r.Nb(),r.sc(37,l,2,2,"option",20),r.Nb(),r.Nb(),r.Ob(38,"button",21),r.uc(39,"Th\xeam xe m\u1edbi"),r.Nb(),r.Ob(40,"a",22),r.uc(41,"Tr\u1edf l\u1ea1i danh s\xe1ch"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(8),r.fc("ngIf",""!=e.message),r.zb(1),r.fc("formGroup",e.createBusForm),r.zb(28),r.fc("ngForOf",e.routes))},directives:[b.l,s.v,s.k,s.f,s.a,s.j,s.e,s.o,s.r,s.n,s.s,s.m,s.u,b.k,a.d],styles:[""]}),t})();function m(t,e){if(1&t&&(r.Ob(0,"option",17),r.uc(1),r.Nb()),2&t){const t=e.$implicit;r.gc("value",null==t?null:t.id),r.zb(1),r.vc(null==t?null:t.name)}}let h=(()=>{class t{constructor(t,e,i,b){this.title=t,this.router=e,this.busService=i,this.formBuilder=b,this.title.setTitle("Ch\u1ec9nh s\u1eeda th\xf4ng tin xe")}ngOnInit(){const t=this.router.snapshot.paramMap.get("id");this.busService.getRoute().subscribe(t=>this.routes=t),this.busService.getBus(t).subscribe(t=>this.initData(t)),this.initForm(),this.busService.getBus(t).subscribe(t=>this.pathBusFormValue(t.bus))}initData(t){this.data=t,this.bus=this.data.bus}initForm(){this.detailsBusForm=this.formBuilder.group({number:["",[s.t.required]],seat:["",[s.t.required]],capacity:["",s.t.required],route_name_id:["",s.t.required]})}pathBusFormValue(t){this.detailsBusForm.patchValue({number:t.number,seat:t.seat,capacity:t.capacity,route_name_id:t.route_name_id})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(u.b),r.Jb(a.a),r.Jb(o),r.Jb(s.b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-details-bus"]],decls:30,vars:3,consts:[[1,"row","my-3","text-font"],[1,"app-page-title","col-md-12"],[1,"app-card","shadow-sm","mb-4","text-font"],[1,"inner"],[1,"app-card-body","p-3","p-lg-4"],[1,"row","gx-5","gy-3"],[1,"col-12"],[3,"formGroup"],[1,"form-group","row"],["for","name",1,"form-label","col-md-2"],["type","text","formControlName","number","disabled","",1,"form-control","col-md-5"],["type","number","formControlName","seat","disabled","",1,"form-control","col-md-5"],["type","number","formControlName","capacity","disabled","",1,"form-control","col-md-5"],["formControlName","route_name_id","aria-label","Default select example","disabled","",1,"form-select","col-md-5"],["value","","disable","","selected",""],[3,"value",4,"ngFor","ngForOf"],["routerLink","../../","href","",1,"btn","btn-secondary"],[3,"value"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h1",1),r.uc(2),r.Nb(),r.Nb(),r.Ob(3,"div",2),r.Ob(4,"div",3),r.Ob(5,"div",4),r.Ob(6,"div",5),r.Ob(7,"div",6),r.Ob(8,"form",7),r.Ob(9,"div",8),r.Ob(10,"label",9),r.uc(11,"Bi\u1ec3n s\u1ed1 xe"),r.Nb(),r.Kb(12,"input",10),r.Nb(),r.Ob(13,"div",8),r.Ob(14,"label",9),r.uc(15,"S\u1ed1 gh\u1ebf"),r.Nb(),r.Kb(16,"input",11),r.Nb(),r.Ob(17,"div",8),r.Ob(18,"label",9),r.uc(19,"S\u1ee9c ch\u1ee9a"),r.Nb(),r.Kb(20,"input",12),r.Nb(),r.Ob(21,"div",8),r.Ob(22,"label",9),r.uc(23,"Tuy\u1ebfn"),r.Nb(),r.Ob(24,"select",13),r.Ob(25,"option",14),r.uc(26,"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),r.Nb(),r.sc(27,m,2,2,"option",15),r.Nb(),r.Nb(),r.Ob(28,"a",16),r.uc(29,"Tr\u1edf l\u1ea1i danh s\xe1ch"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(2),r.wc("Th\xf4ng tin chi ti\u1ebft xe ",null==e.bus?null:e.bus.number,""),r.zb(6),r.fc("formGroup",e.detailsBusForm),r.zb(19),r.fc("ngForOf",e.routes))},directives:[s.v,s.k,s.f,s.a,s.j,s.e,s.n,s.s,s.m,s.u,b.k,a.d],styles:[""]}),t})();function p(t,e){if(1&t&&(r.Ob(0,"div",22),r.Ob(1,"label",23),r.uc(2),r.Nb(),r.Nb()),2&t){const t=r.Zb();r.zb(2),r.vc(t.message)}}function g(t,e){if(1&t&&(r.Ob(0,"option",24),r.uc(1),r.Nb()),2&t){const t=e.$implicit;r.gc("value",null==t?null:t.id),r.zb(1),r.vc(null==t?null:t.name)}}let f=(()=>{class t{constructor(t,e,i,b){this.title=t,this.busService=e,this.router=i,this.formBuilder=b,this.message="",this.title.setTitle("Ch\u1ec9nh s\u1eeda th\xf4ng tin xe")}ngOnInit(){const t=this.router.snapshot.paramMap.get("id");this.busService.getRoute().subscribe(t=>this.routes=t),this.busService.getBus(t).subscribe(t=>this.initData(t)),this.initForm(),this.busService.getBus(t).subscribe(t=>this.pathBusFormValue(t.bus))}initData(t){this.data=t,this.bus=this.data.bus}initForm(){this.editBusForm=this.formBuilder.group({number:["",s.t.required],seat:["",s.t.required],capacity:["",s.t.required],route_name_id:["",s.t.required]})}pathBusFormValue(t){this.editBusForm.patchValue({number:t.number,seat:t.seat,capacity:t.capacity,route_name_id:t.route_name_id})}updateBus(){if(this.editBusForm.invalid)return this.message="Vui l\xf2ng ki\u1ec3m tra l\u1ea1i th\xf4ng tin";const{value:t}=this.editBusForm,e=this.router.snapshot.paramMap.get("id");this.busService.updateBus(e,t).subscribe(t=>{this.message="S\u1eeda th\xf4ng tin xe th\xe0nh c\xf4ng",console.log(this.message)},t=>{this.message="S\u1eeda th\xf4ng tin xe kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i!",console.log(this.message)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(u.b),r.Jb(o),r.Jb(a.a),r.Jb(s.b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-edit-bus"]],decls:42,vars:4,consts:[[1,"row","my-3","text-font"],[1,"app-page-title","col-md-12"],[1,"app-card","shadow-sm","mb-4","text-font"],[1,"inner"],[1,"app-card-body","p-3","p-lg-4"],[1,"row","gx-5","gy-3"],[1,"col-12"],["class","row justify-content-center ",4,"ngIf"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"form-group","row","has-validation"],["for","name",1,"form-label","col-md-2"],["type","text","formControlName","number","pattern","[0-9]{2}[-]{1}[A-Za-z]{1}[0-9]{1}[\\s]{1}[0-9.]{4,6}","required","",1,"form-control","col-md-5"],[1,"invalid-feedback","col-md-5"],[1,"col-md-12"],["type","number","formControlName","seat","required","",1,"form-control","col-md-5"],[1,"col-md-5","invalid-feedback"],["type","number","formControlName","capacity","required","",1,"form-control","col-md-5"],["formControlName","route_name_id","aria-label","Default select example",1,"form-select","col-md-5"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","m-2"],["routerLink","../../","href","",1,"btn","btn-secondary"],[1,"row","justify-content-center"],[1,"col-md-6","align-middle","form-control","notify"],[3,"value"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h1",1),r.uc(2),r.Nb(),r.Nb(),r.Ob(3,"div",2),r.Ob(4,"div",3),r.Ob(5,"div",4),r.Ob(6,"div",5),r.Ob(7,"div",6),r.sc(8,p,3,1,"div",7),r.Ob(9,"form",8),r.Vb("ngSubmit",function(){return e.updateBus()}),r.Ob(10,"div",9),r.Ob(11,"label",10),r.uc(12,"Bi\u1ec3n s\u1ed1 xe"),r.Nb(),r.Kb(13,"input",11),r.Ob(14,"div",12),r.Ob(15,"div",13),r.uc(16," *Vui l\xf2ng nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng. "),r.Nb(),r.Ob(17,"div",13),r.uc(18,' *V\xed d\u1ee5 : "75-H1 123.55" ho\u1eb7c "75-H1 1235". '),r.Nb(),r.Nb(),r.Nb(),r.Ob(19,"div",9),r.Ob(20,"label",10),r.uc(21,"S\u1ed1 gh\u1ebf"),r.Nb(),r.Kb(22,"input",14),r.Ob(23,"div",15),r.uc(24," *Vui l\xf2ng kh\xf4ng \u0111\u1ec3 tr\u1ed1ng "),r.Nb(),r.Nb(),r.Ob(25,"div",9),r.Ob(26,"label",10),r.uc(27,"S\u1ee9c ch\u1ee9a"),r.Nb(),r.Kb(28,"input",16),r.Ob(29,"div",15),r.uc(30," *Vui l\xf2ng kh\xf4ng \u0111\u1ec3 tr\u1ed1ng "),r.Nb(),r.Nb(),r.Ob(31,"div",9),r.Ob(32,"label",10),r.uc(33,"Tuy\u1ebfn"),r.Nb(),r.Ob(34,"select",17),r.Ob(35,"option",18),r.uc(36,"Ch\u01b0a x\xe1c \u0111\u1ecbnh"),r.Nb(),r.sc(37,g,2,2,"option",19),r.Nb(),r.Nb(),r.Ob(38,"button",20),r.uc(39,"L\u01b0u th\xf4ng tin"),r.Nb(),r.Ob(40,"a",21),r.uc(41,"Tr\u1edf l\u1ea1i danh s\xe1ch"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(2),r.wc("Thay \u0111\u1ed5i th\xf4ng tin xe ",null==e.bus?null:e.bus.number,""),r.zb(6),r.fc("ngIf",""!==e.message),r.zb(1),r.fc("formGroup",e.editBusForm),r.zb(28),r.fc("ngForOf",e.routes))},directives:[b.l,s.v,s.k,s.f,s.a,s.j,s.e,s.o,s.r,s.n,s.s,s.m,s.u,b.k,a.d],styles:[""]}),t})(),v=(()=>{class t{constructor(t,e,i,b){this.title=t,this.busService=e,this.router=i,this.router2=b,this.title.setTitle("X\xf3a xe")}ngOnInit(){const t=this.router.snapshot.paramMap.get("id");this.busService.getBus(t).subscribe(t=>this.bus=t.bus)}deleteBus(t){this.busService.deleteBus(t).subscribe(t=>{this.message="X\xf3a xe th\xe0nh c\xf4ng",console.log(this.message),this.router2.navigateByUrl("/manager/buses")},t=>{this.message="X\xf3a xe kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i",console.log(this.message)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(u.b),r.Jb(o),r.Jb(a.a),r.Jb(a.b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-delete-bus"]],decls:12,vars:1,consts:[[1,"app-card","shadow-sm","mb-4","text-font"],[1,"inner"],[1,"app-card-body","p-3","p-lg-4"],[1,"row","gx-5","gy-3"],[1,"col-12"],[1,"row","my-3","text-font"],[1,"app-page-title","col-md-12"],["href","javascript:;",1,"btn","btn-danger","m-2",3,"click"],["routerLink","../../",1,"btn","btn-secondary"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"div",3),r.Ob(4,"div",4),r.Ob(5,"div",5),r.Ob(6,"h1",6),r.uc(7),r.Nb(),r.Nb(),r.Ob(8,"a",7),r.Vb("click",function(){return e.deleteBus(e.bus.id)}),r.uc(9,"X\xf3a xe"),r.Nb(),r.Ob(10,"a",8),r.uc(11,"Tr\u1edf l\u1ea1i danh s\xe1ch"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(7),r.wc("X\xf3a xe ",e.bus.number," ?"))},directives:[a.d],styles:[""]}),t})();function N(t,e){if(1&t&&(r.Ob(0,"tr",13),r.Ob(1,"td",14),r.uc(2),r.Nb(),r.Ob(3,"td",11),r.uc(4),r.Nb(),r.Ob(5,"td",11),r.uc(6),r.Nb(),r.Ob(7,"td",11),r.Ob(8,"a",15),r.Kb(9,"i",16),r.Nb(),r.Ob(10,"a",17),r.Kb(11,"i",18),r.Nb(),r.Ob(12,"a",19),r.Kb(13,"i",20),r.Nb(),r.Nb(),r.Nb()),2&t){const t=e.$implicit,i=e.index;r.zb(2),r.vc(i+1),r.zb(2),r.vc(t.number),r.zb(2),r.wc("",t.capacity," kh\xe1ch"),r.zb(2),r.hc("routerLink","./details/",t.id,""),r.zb(2),r.hc("routerLink","./edit/",t.id,""),r.zb(2),r.hc("routerLink","./delete/",t.id,"")}}const O=[{path:"",component:(()=>{class t{constructor(t,e){this.titleService=t,this.busService=e,this.buses=[],this.titleService.setTitle("Danh s\xe1ch xe bu\xfdt")}ngOnInit(){this.loadBuses()}loadBuses(){this.busService.getList().subscribe(t=>this.buses=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(u.b),r.Jb(o))},t.\u0275cmp=r.Db({type:t,selectors:[["app-list-bus"]],decls:24,vars:1,consts:[[1,"row","my-3","text-font"],[1,"app-page-title","col-md-4"],[1,"ms-auto","col-md-2"],["routerLink","./create",1,"btn","btn-success"],[1,"app-card","shadow-sm","mb-4"],[1,"inner"],[1,"app-card-body","p-3","p-lg-4"],[1,"row","gx-5","gy-3"],[1,"col-12"],[1,"table","table-hover","table-borderless","table-sm","text-center","text-font"],[1,"thead-background"],[1,"align-middle"],["class","color",4,"ngFor","ngForOf"],[1,"color"],["scope","row",1,"align-middle"],[1,"btn","btn-outline-primary","m-2",3,"routerLink"],[1,"fas","fa-bus"],[1,"btn","btn-outline-warning","m-2",3,"routerLink"],[1,"far","fa-edit"],[1,"btn","btn-outline-danger","m-2",3,"routerLink"],[1,"fas","fa-trash-alt"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h1",1),r.uc(2,"Danh s\xe1ch xe Bus"),r.Nb(),r.Ob(3,"div",2),r.Ob(4,"a",3),r.uc(5,"Th\xeam m\u1edbi xe"),r.Nb(),r.Nb(),r.Nb(),r.Ob(6,"div",4),r.Ob(7,"div",5),r.Ob(8,"div",6),r.Ob(9,"div",7),r.Ob(10,"div",8),r.Ob(11,"table",9),r.Ob(12,"thead",10),r.Ob(13,"tr"),r.Ob(14,"th",11),r.uc(15,"STT"),r.Nb(),r.Ob(16,"th",11),r.uc(17,"Bi\u1ec3n s\u1ed1 xe"),r.Nb(),r.Ob(18,"th",11),r.uc(19,"S\u1ee9c ch\u1ee9a"),r.Nb(),r.Ob(20,"th",11),r.uc(21,"T\xe1c v\u1ee5"),r.Nb(),r.Nb(),r.Nb(),r.Ob(22,"tbody"),r.sc(23,N,14,6,"tr",12),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(23),r.fc("ngForOf",e.buses))},directives:[a.d,b.k],styles:[""]}),t})()},{path:"create",component:d},{path:"edit/:id",component:f},{path:"details/:id",component:h},{path:"delete/:id",component:v}];let y=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[b.c,s.q,a.e.forChild(O)]]}),t})()}}]);